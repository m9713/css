/*
 *  (c) 2021 https://aurthms.tumblr.com
 */

var bodyStyles=window.getComputedStyle(document.body),$body=$("body"),$textholder=$body.find("p"),$container=$(".post"),$photosets=$container.find(".fade"),$caption=$container.find(".caption"),$audio=$("iframe.tumblr_audio_player"),paddingtop=$("header").outerHeight()+postspacing;function noHrefLi(){var linkSet=document.querySelectorAll('a[href*="href.li/?"]');Array.prototype.forEach.call(linkSet,(function(el,i){var theLink=linkSet[i].getAttribute("href").split("href.li/?")[1];linkSet[i].setAttribute("href",theLink)}))}feather.replace(),$(".toggle, .overlay").click((function(){$(".toggle").toggleClass("active"),$("nav").toggleClass("show"),$("body").toggleClass("overflow"),$(".overlay").toggleClass("show")})),$(document).ready((function(){function topspacing(){$("main").css({"padding-top":paddingtop}),$("nav").css({"padding-top":paddingtop})}if($textholder.filter((function(){return""==$.trim(this.innerHTML)})).remove(),$(window).on("resize",(function(){topspacing()})),topspacing(),$container.find("pre").each((function(){0===$(this).find("code").length&&$(this).wrapInner("<code></code>")})),$(".search").submit((function(event){var value=$("input:first").val();location.replace("/tagged/"+value)})),$audio.load((function(){$(this).contents().find("head").append('<style type="text/css">.audio-player { background: transparent; color: rgb('+bodyStyles.getPropertyValue("--color-text")+") !important; }.audio-player .progress { display:none; }</style>")})),$body.hasClass("index"))var $grid=$("section").imagesLoaded((function(){$grid.masonry({horizontalOrder:!0,itemSelector:".post",columnWidth:".post",percentPosition:!0,gutter:postspacing})}));function flexFrame(){$caption.each((function(){$(this).find("iframe").wrap('<div class="iframe-flex"></div>'),flexibleFrames($(".iframe-flex"))})),flexibleFrames($(".video"))}$(".fade").slick({dots:!1,arrows:!0,adaptiveHeight:!0,infinite:!0}),$container.find(".timeago").timeAgo({time:"word",spaces:!0,suffix:"ago"}),$container.find(".notecount").each((function(){var n=$(this).html().split(" ")[0].replace(/,/g,"");n>999&&(n=Math.floor(n/100)/10,$(this).text(n+"k"))})),$(document).ready(flexFrame),$("[title]").tooltipster({theme:"tooltipster-borderless",plugins:["follower"],maxWidth:160,offset:[0,-20],arrow:!1,animationDuration:300,delay:100})})),hljs.highlightAll(),noHrefLi();
